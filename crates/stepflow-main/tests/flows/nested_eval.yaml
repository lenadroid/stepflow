config:
  plugins:
    - name: builtins
      type: builtin

name: nested_eval_test
description: Test nested flow execution with eval component
steps:
  - id: nested_flow
    component: builtins://eval
    input:
      workflow:
        $literal:
          name: simple_nested
          steps:
            - id: inner_step
              component: builtins://create_messages
              input:
                user_prompt: "Hello from nested flow"
          output:
            result: { $from: { step: inner_step } }
      input: {}

output:
  nested_result: { $from: { step: nested_flow } }

test_cases:
  - input: {}