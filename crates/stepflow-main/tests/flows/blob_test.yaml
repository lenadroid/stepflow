config:
  plugins:
    - name: builtins
      type: builtin
input_schema:
  type: object
  properties:
    data:
      type: object
output_schema:
  type: object
  properties:
    blob_id:
      type: string
    retrieved_data:
      type: object
steps:
  - id: create_blob
    component: builtins://create_blob
    input:
      data: { $from: { workflow: input }, path: data }
  - id: get_blob
    component: builtins://get_blob
    input:
      blob_id: { $from: { step: create_blob }, path: blob_id }
output:
  blob_id: { $from: { step: create_blob }, path: blob_id }
  retrieved_data: { $from: { step: get_blob }, path: data }
test_cases:
  - input:
      data:
        message: "Hello, blobs!"
        number: 42
        nested:
          array: [1, 2, 3]
          boolean: true
  - input:
      data:
        simple: "test"
        complex:
          deeply:
            nested:
              value: "works"